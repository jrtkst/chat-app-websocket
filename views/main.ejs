<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Chat w/ Websocket</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
        <script src="https://cdn.jsdelivr.net/npm/@textea/json-viewer@3"></script>
        <style>
            body {
                background-color: #EBF4F6;
            }

            .navbar {
                margin-top: 1rem; 
                margin-left: 1rem; 
                margin-right: 1rem; 
                border-radius: 5px;
            }

            .table{
                width: 50%;
                margin-left:auto;
                margin-right: auto;
                margin-top:2rem;
                text-align: center;
            }

            .chatbox{
                width: 40rem;
                height: 20rem;
                margin-left:auto;
                margin-right:auto;
                margin-top:5px;
                border-radius:10px;
            }

            #uname{
                width: 25rem;
                text-align:center;
                margin-left:8rem;
                margin-top: 2rem;
            }

            #msg {
                width: 25rem;
                height: 11rem;
                text-align:center;
                margin-left: 8rem;
                margin-top: 1rem;
                margin-bottom: 1rem;
            }



    
        </style>
    </head>
    <body>

        <!-- Header Part -->
        <nav class="navbar">
            <span class="navbar-brand mb-0 h1" style="margin-left: 15px; font-size: 22px;">Chat App with Websocket <br> <span style="font-size: 18px;">Gabriel Jonathan</span> <br> <span class="navbar-brand mb-0 h1" id="current_time" style="font-size:18px;"></span></span>
        </nav>

        <div class="chatbox">
            <form id="chat-form">
                <div style="text-align:center">
                    <h5>Username : <span><%= uname %></span></h5>    
                </div>
                <input class="form-text" type="hidden" name="uname" id="uname" value=<%= uname %>>

                <div>
                    <input class="form-text" type="text" name="msg" id="msg" placeholder="Enter your message">
                </div>

                <input class="form-text" type="hidden" name="time" id="time" value="">

                <div style="text-align:center">
                    <input class="btn btn-dark" type="submit" value="Send" id="send_btn">
                </div>
                
            </form>
        </div>
       

        <table class="table table-dark" id="chat_table">
            <thead>
                <tr>
                <th scope="col" >Time</th>
                <th scope="col">User</th>
                <th scope="col">Message</th>
                </tr>
            </thead>
            <tbody>
               
            </tbody>
        </table>
        
            

        <!-- Scripts -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="/static/script.js"></script>
        <script type="text/javascript">
            // Get time
            function clock() { 
                const today = new Date();
                let current_time = today;
                const time_disp = current_time.toLocaleTimeString() + ' ' + current_time.toLocaleDateString();
                $("#current_time").html(time_disp);
                $("#time").val(time_disp)
                setTimeout(clock, 1000);
            };
            $(window).on('load', function(){
                clock();
                
            });
        </script>
       
   
    </body>
</html>